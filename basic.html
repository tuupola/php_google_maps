<?php

require_once 'Google/Maps.php';

$map = Google_Maps::create('static');

$map->setSize('540x300');
$map->setCenter(new Google_Maps_Coordinate('58.368488', '26.768908'));
$map->setZoom(8);
$map->setKey(trim(file_get_contents('api_key.txt')));

?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Google Maps PHP Class - Static Map Demo</title>
  <link href="http://www.appelsiini.net/stylesheets/screen.css" rel="stylesheet" type="text/css" />
  <link href="http://www.appelsiini.net/stylesheets/main.css" rel="stylesheet" type="text/css" />
  <link rel="alternate" type="application/atom+xml" href="http://feeds.feedburner.com/tuupola" title="Atom feed" />
</head>
<body>
  <div class="container"> 

    <!-- header -->
    <div id="header" class="span-20">
      <div class="span-11">
                
        <h1>PHP Google Static Maps</h1><br />
        <p>Programmatically Create Google Static Maps With PHP.</p>
         
      </div>
      <div class="span-9 last">
        <ul id="nav">        
          <li id="first"><a href="http://www.appelsiini.net/">weblog</a></li>
          <li><a href="http://www.appelsiini.net/projects" class="last">projects</a></li>
          <!--
          <li><a href="http://www.appelsiini.net/cv" class="last">cv</a></li>
          -->
        </ul>
      </div>
    </div>
    <!-- /header -->

    <!-- content -->
    <div class="span-14" id="content">
    
  
<div class="entry">

	<div class="entrytitle">
		<h2>Quick and Dirty Usage Demo</h2> 
		<h4>This page demonstrates some of the options currently available.</h4>
	</div>
	<div class="entrybody">
	  <p>
	    Basic map is create using <i>Google_Maps::create('static')</i> factory method. 
	    If no markers are set you need to set the center of the map.
	  </p>
	  <p>
      <pre>require_once 'Google/Maps.php';

$map = Google_Maps::create('static');

$map->setSize('540x300');
$map->setCenter(new Google_Maps_Coordinate('58.368488', '26.768908'));
$map->setZoom(8);
$map->setKey(API_KEY);</pre>
    </p>
    <?php print $map->toImgTag(); ?><br /><br />
    <h3>Add some markers</h3>
	  <p>
	    Location on map can be in two ways. Latitude and longitude represented by
	    <i>Google_Maps_Coordinate</i> object. Or pixel x and pixel y location represented
	    by <i>Google_Maps_Point</i> object. You can use both when creating a marker.
	  </p>
    <p>
<?php
$coord_1 = new Google_Maps_Coordinate('58.378700', '26.731110');
$coord_2 = new Google_Maps_Coordinate('58.368488', '26.768908');
$coord_3 = new Google_Maps_Coordinate('58.268488', '26.768908');

$marker_1 = new Google_Maps_Marker($coord_1);
$marker_2 = new Google_Maps_Marker($coord_2);
$marker_3 = new Google_Maps_Marker($coord_3);

$marker_1->setColor('green');
$marker_2->setColor('blue');
$marker_3->setColor('orange');

$map->setMarkers(array($marker_1, $marker_2, $marker_3));
?>
    <pre>$coord_1 = new Google_Maps_Coordinate('58.378700', '26.731110');
$coord_2 = new Google_Maps_Coordinate('58.368488', '26.768908');
$coord_3 = new Google_Maps_Coordinate('58.268488', '26.768908');

$marker_1 = new Google_Maps_Marker($coord_1);
$marker_2 = new Google_Maps_Marker($coord_2);
$marker_3 = new Google_Maps_Marker($coord_3);

$marker_1->setColor('green');
$marker_2->setColor('blue');
$marker_3->setColor('orange');

$map->setMarkers(array($marker_1, $marker_2, $marker_3));</pre>
    </p>
	  <?php print $map->toImgTag(); ?><br /><br />
	  <h3>Automatically Calculate Zoom and Center</h3>
	  <p>
	    Static Maps API can automatically calculate zoom and center for you. However it does
	    not return the values to you. If you need to later know the values of automatically centered
	    and zoomed map use <i>$map->zoomToFit()</i> method. It stores new zoom and center internally.
	  </p>
    <p>
      Here we also add new marker using pixel coordinates. Note that we also clear the center
      of the map we set in the beginning. This allows map to recenter the map according to 
      markers on the map.
    </p>
  <p>
<?php
$point_1  = new Google_Maps_Point('308107197', '160958681');
$marker_4 = new Google_Maps_Marker($point_1);
$map->setCenter('');
$map->addMarker($marker_4);
$map->zoomToFit();
?>
      <pre>$point_1  = new Google_Maps_Point('308107197', '160958681');
$marker_4 = new Google_Maps_Marker($point_1);
$map->setCenter(false);
$map->addMarker($marker_4);
$map->zoomToFit();</pre>
	  </p>
	  <?php print $map->toImgTag(); ?><br /><br />
	  <h3>Show Marker Bounds</h3>
	  <p>
	    Sometimes you need to be able to visually see bounding box where all the
	    markers fit in. Internally this is done by drawing a path between bounding boxes
	    corners.
	  </p>
	  <p>
<?php
$map->showMarkerBounds();
?>
      <pre>$map->showMarkerBounds();</pre>
    </p>
	  <?php print $map->toImgTag(); ?><br /><br />
	  
	  <h3>Show Map Bounds at Chosen Zoom Level</h3>
	  <p>
	    You can also calculate and show map bounds at any zoom level. Example below draws map bounds at
	    zoom level 8. Map itself is at zoom level 7.
	  </p>
	  <p>
<?php
$map->setZoom(7);
$map_bounds = $map->getBounds(8);
$map->setPath($map_bounds->getPath());
?>
      <pre>$map->setZoom(7);
$map_bounds = $map->getBounds(8);
$map->setPath($map_bounds->getPath());</pre>
    </p>
	  <?php print $map->toImgTag(); ?><br /><br />
	  
	  <h3>Where's the Source?</h3>
	  <p>
	    Everything is still pretty much alpha quality. API can change anytime. If you want to play
	    around with code you can get from <a href="http://github.com/tuupola/php_google_maps/tree">github</a>.
    </p>
    <p>
      <pre>git clone git://github.com/tuupola/php_google_maps.git</pre>
      <pre>wget http://github.com/tuupola/php_google_maps/zipball/master</pre>
    </p>
    <p>
      If you like this you might also want to see <a href="controls.html">controls demo</a>.
    </p>
    
	  
	</div>	
</div>

  <hr class="space" />

    </div>
    <!-- /content -->

    <!-- sidebar -->
    <div class="span-5 push-1 last" id="sidebar">
      <br /><br />
      <a href="http://twitter.com/tuupola"><img src="http://www.appelsiini.net/images/twitter3.png" alt="@tuupola" /></a>
    </div>
    <!-- /sidebar -->

  </div>      
  <script src="/mint/?js" type="text/javascript"></script>
  <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
  <script type="text/javascript">
    _uacct = "UA-190966-1";
    urchinTracker();
  </script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>

